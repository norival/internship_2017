---
title: Estimation abondances
date:
author:
output: ioslides_presentation
---

```{r, loading_data, echo=FALSE}
library(ggplot2)
library(magrittr)
library(dplyr)
load('/tmp/data_verif.RData')
```

## Problématique

Jusqu'où peut-on dégrader la précision des relevés tout en gardant une bonne
estimation des abondances réelles ?

### Méthode

- Les données 2013 possèdent des relevés d'abondances complètes
- Dégradation des abondances en relevés 0/1, $log_2$ ou $log_{10}$
- Estimation par la moyenne géométrique pour les relevés $log_{10}$
- Estimation par une loi de Poisson composée pour les relevés $log_2$
- Estimation par une loi de Poisson simple pour les relevés 0/1


## Moyenne géométrique Vs. abondance

```{r, graphgeom, echo=FALSE}
cor_gmean %>%
  ggplot(aes(x = real, y = estimate)) +
  geom_point(size = 2, shape = 1) +
  theme_bw() +
  xlab("Densité réelle") +
  ylab("Moyenne géométrique") +
  geom_abline(slope = 1, intercept = 0)
```

## Estimations $log_2$

```{r, graphbase2, echo=FALSE}
cor_base2[, 1:4] %>%
  ggplot(aes(x = real, y = estimate)) +
  geom_point(size = 2, shape = 1) +
  theme_bw() +
  xlab("Densité réelle") +
  ylab("Estimation sur base2") +
  geom_abline(slope = 1, intercept = 0)
```

## Estimations $log_2$

```{r, graphbase22, echo=FALSE}
cor_base2[, 1:4] %>%
  filter(estimate < 80) %>%
  ggplot(aes(x = real, y = estimate)) +
  geom_point(size = 2, shape = 1) +
  theme_bw() +
  xlab("Densité réelle") +
  ylab("Estimation sur base2") +
  geom_abline(slope = 1, intercept = 0)
```

---

```{r, densities, echo=FALSE, fig.height=6.2}
bb %>%
  ggplot(aes(ab)) +
  geom_density() +
  facet_wrap(~ parc) +
  theme_bw()
```

## Estimation $log_{10}$

```{r, graphbase10, echo=FALSE}
suppressWarnings({
cor_base10 %>%
  ggplot(aes(x = real, y = estimate)) +
  geom_point(size = 2, shape = 1) +
  theme_bw() +
  scale_x_continuous(limits = c(0, 30)) +
  scale_y_continuous(limits = c(0, 30)) +
  xlab("Densité réelle") +
  ylab("Estimation sur base10") +
  geom_abline(slope = 1, intercept = 0)
})
```
